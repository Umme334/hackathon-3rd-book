"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[204],{3716:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>h,contentTitle:()=>d,default:()=>b,frontMatter:()=>c,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"tutorial-basics/chatbot-integration","title":"Chatbot Integration","description":"This page demonstrates how to integrate the RAG chatbot, personalization, and translation features into textbook content.","source":"@site/docs/tutorial-basics/chatbot-integration.mdx","sourceDirName":"tutorial-basics","slug":"/tutorial-basics/chatbot-integration","permalink":"/textbook-generation/textbooks/tutorial-basics/chatbot-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/chatbot-integration.mdx","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Chatbot Integration"}}');var a=n(4848),s=n(8453),i=n(3727),r=n(8170),l=n(5867);const c={sidebar_position:2,title:"Chatbot Integration"},d="Chatbot Integration in Textbook Pages",h={},u=[{value:"Sample Textbook Content",id:"sample-textbook-content",level:2},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:3},{value:"Personalization Toggle",id:"personalization-toggle",level:2},{value:"Translation Toggle",id:"translation-toggle",level:2},{value:"How It Works",id:"how-it-works",level:2}];function g(t){const e={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"chatbot-integration-in-textbook-pages",children:"Chatbot Integration in Textbook Pages"})}),"\n",(0,a.jsx)(e.p,{children:"This page demonstrates how to integrate the RAG chatbot, personalization, and translation features into textbook content."}),"\n",(0,a.jsx)(e.h2,{id:"sample-textbook-content",children:"Sample Textbook Content"}),"\n",(0,a.jsx)(e.p,{children:"Welcome to the Physical AI and Humanoid Robotics textbook! This content can be enhanced with our interactive features."}),"\n",(0,a.jsx)(e.h3,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,a.jsx)(e.p,{children:"ROS 2 (Robot Operating System 2) provides the middleware for communication between different components of a robot system. It uses DDS (Data Distribution Service) for message passing and provides features like:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Real-time performance"}),"\n",(0,a.jsx)(e.li,{children:"Distributed computing"}),"\n",(0,a.jsx)(e.li,{children:"Language independence"}),"\n",(0,a.jsx)(e.li,{children:"Hardware abstraction"}),"\n"]}),"\n",(0,a.jsx)(i.A,{textbookId:"physical-ai-textbook"}),"\n",(0,a.jsx)(e.h2,{id:"personalization-toggle",children:"Personalization Toggle"}),"\n",(0,a.jsx)(r.A,{userId:"user-123",textbookId:"physical-ai-textbook"}),"\n",(0,a.jsx)(e.h2,{id:"translation-toggle",children:"Translation Toggle"}),"\n",(0,a.jsx)(l.A,{textbookId:"physical-ai-textbook",content:"Welcome to the Physical AI and Humanoid Robotics textbook! This content can be enhanced with our interactive features."}),"\n",(0,a.jsx)(e.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,a.jsx)(e.p,{children:"The chatbot widget on the right allows you to ask questions about this textbook content. It uses RAG (Retrieval-Augmented Generation) to provide accurate answers based on the material you're reading."}),"\n",(0,a.jsx)(e.p,{children:"The personalization toggle adapts the content based on your background and learning preferences, while the translation toggle allows you to switch between English and Urdu."})]})}function b(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(g,{...t})}):g(t)}},3727:(t,e,n)=>{n.d(e,{A:()=>r});var o=n(6540),a=n(8478),s=n(4848);const i=({textbookId:t,sessionId:e})=>{const[n,a]=(0,o.useState)(!1),[i,r]=(0,o.useState)([]),[l,c]=(0,o.useState)(""),[d,h]=(0,o.useState)(!1),[u,g]=(0,o.useState)(e||""),b=(0,o.useRef)(null);return(0,o.useEffect)(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[i]),(0,s.jsx)("div",{className:"chatbot-widget",children:n?(0,s.jsxs)("div",{className:"chatbot-window",children:[(0,s.jsxs)("div",{className:"chatbot-header",children:[(0,s.jsx)("h3",{children:"Physical AI Assistant"}),(0,s.jsx)("button",{onClick:()=>a(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"chatbot-messages",children:[0===i.length?(0,s.jsxs)("div",{className:"welcome-message",children:[(0,s.jsx)("p",{children:"Hello! I'm your Physical AI & Humanoid Robotics assistant."}),(0,s.jsx)("p",{children:"Ask me questions about the textbook content, and I'll provide answers based on the material."})]}):i.map(t=>(0,s.jsxs)("div",{className:`message ${t.role}`,children:[(0,s.jsx)("div",{className:"message-content",children:t.content}),(0,s.jsx)("div",{className:"message-timestamp",children:new Date(t.timestamp).toLocaleTimeString()})]},t.id)),d&&(0,s.jsx)("div",{className:"message bot",children:(0,s.jsx)("div",{className:"message-content",children:"Thinking..."})}),(0,s.jsx)("div",{ref:b})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async e=>{if(e.trim()){h(!0);try{const n={id:`msg-${Date.now()}-user`,role:"user",content:e,timestamp:(new Date).toISOString()};r(t=>[...t,n]);const o={query:e,textbook_id:t,session_id:u},a=await fetch("http://localhost:8000/chatbot/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!a.ok)throw new Error(`Failed to get response: ${a.statusText}`);const s=await a.json(),i={id:`msg-${Date.now()}-bot`,role:"assistant",content:s.response,timestamp:(new Date).toISOString()};r(t=>[...t,i]),h(!1),c(""),s.session_id&&!u&&g(s.session_id)}catch(n){console.error("Error sending message:",n);const t={id:`msg-${Date.now()}-error`,role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:(new Date).toISOString()};r(e=>[...e,t]),h(!1),c("")}}})(l)},className:"chatbot-input-form",children:[(0,s.jsx)("input",{type:"text",value:l,onChange:t=>c(t.target.value),placeholder:"Ask a question about the textbook...",disabled:d}),(0,s.jsx)("button",{type:"submit",disabled:d,children:"Send"})]})]}):(0,s.jsx)("button",{className:"chatbot-toggle",onClick:()=>a(!0),children:"\ud83e\udd16 AI Assistant"})})},r=t=>(0,s.jsx)(a.A,{fallback:(0,s.jsx)("div",{children:"Loading chatbot..."}),children:()=>(0,s.jsx)(i,{...t})})},5867:(t,e,n)=>{n.d(e,{A:()=>r});var o=n(6540),a=n(8478),s=n(4848);const i=({textbookId:t,contentId:e,content:n})=>{const[a,i]=(0,o.useState)(!1),[r,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[h,u]=(0,o.useState)(n||"");return r?(0,s.jsx)("div",{className:"translation-toggle loading",children:(0,s.jsx)("span",{children:"Translating to Urdu..."})}):(0,s.jsxs)("div",{className:"translation-toggle",children:[(0,s.jsx)("button",{className:"translation-button "+(a?"urdu":"english"),onClick:async()=>{if(a)return i(!1),u(n||""),void d(null);if(n){l(!0);try{const o=await fetch("http://localhost:8000/translation/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n,textbook_id:t,content_id:e,content_type:"text",target_language:"ur"})});if(!o.ok)throw new Error("Failed to translate content");{const t=await o.json();d(t.translated_content),u(t.translated_content),i(!0)}}catch(o){console.error("Error translating content:",o),alert("Failed to translate content. Please try again.")}finally{l(!1)}}else alert("No content to translate")},disabled:r,children:a?"English":"\u0627\u0631\u062f\u0648"}),a&&c&&(0,s.jsx)("div",{className:"translation-info",children:(0,s.jsx)("small",{children:"Translated from English"})})]})},r=t=>(0,s.jsx)(a.A,{fallback:(0,s.jsx)("div",{children:"Loading translation..."}),children:()=>(0,s.jsx)(i,{...t})})},8170:(t,e,n)=>{n.d(e,{A:()=>r});var o=n(6540),a=n(8478),s=n(4848);const i=({userId:t,textbookId:e})=>{const[n,a]=(0,o.useState)(!1),[i,r]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null);(0,o.useEffect)(()=>{t&&d()},[t]);const d=async()=>{if(t)try{r(!0);const e=await fetch(`http://localhost:8000/auth/profile/${t}`);if(e.ok){const t=await e.json();c(t)}}catch(e){console.error("Error loading user profile:",e)}finally{r(!1)}};return i?(0,s.jsx)("div",{className:"personalization-toggle loading",children:(0,s.jsx)("span",{children:"Loading personalization settings..."})}):(0,s.jsxs)("div",{className:"personalization-toggle",children:[(0,s.jsxs)("label",{className:"personalization-label",children:[(0,s.jsx)("input",{type:"checkbox",checked:n,onChange:async()=>{if(t){r(!0);try{if(!(await fetch("http://localhost:8000/personalization/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,textbook_id:e,enabled:!n})})).ok)throw new Error("Failed to toggle personalization");a(!n)}catch(o){console.error("Error toggling personalization:",o),alert("Failed to toggle personalization. Please try again.")}finally{r(!1)}}else alert("Please log in to enable personalization")},disabled:i||!t}),(0,s.jsx)("span",{className:"personalization-text",children:n?"Personalized Content":"Standard Content"})]}),l&&(0,s.jsx)("div",{className:"user-profile-preview",children:(0,s.jsxs)("small",{children:["Based on your profile: ",l.software_experience," background"]})})]})},r=t=>(0,s.jsx)(a.A,{fallback:(0,s.jsx)("div",{children:"Loading personalization..."}),children:()=>(0,s.jsx)(i,{...t})})},8453:(t,e,n)=>{n.d(e,{R:()=>i,x:()=>r});var o=n(6540);const a={},s=o.createContext(a);function i(t){const e=o.useContext(s);return o.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:i(t.components),o.createElement(s.Provider,{value:e},t.children)}},8478:(t,e,n)=>{n.d(e,{A:()=>s});n(6540);var o=n(2303),a=n(4848);function s({children:t,fallback:e}){return(0,o.A)()?(0,a.jsx)(a.Fragment,{children:t?.()}):e??null}}}]);